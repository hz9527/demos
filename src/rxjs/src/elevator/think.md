## core

### 逻辑

* 电梯的初始态是静止的直到被人消费
* 电梯满员将不接人，直到有额外名额
* 电梯每次都会往一个方向移动到其能移动到的最远端
* 最远端的计算是通过 a）还有空余名额去接人 b）将人送往目的地
* 更改方向，被拉取，进出人员，将重新计算最远端
  * 更改方向只能 pop task
  * 呼叫/miss将计算 go task
  * 进入将计算 arrive task
* 进入电梯的条件是 a电梯还有空余位置 b电梯到达指定楼层 c电梯运动方向和目的方向一致
* 离开电梯条件是 电梯到达指定位置
* 电梯里的人一定会在当前方向离开，所以当被 call 只需要计算离当前点同方向更远的点就行了
* miss 的人是需要返回接的，所以记录反方向最远的点就好了
* 更换方向的点是到达同方向最远的点就行了

### 暴露的方法

1. call 消费者拉取
2. enter 消费者消费
3. out 完成
4. miss