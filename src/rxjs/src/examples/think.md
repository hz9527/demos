## input

**业务场景**

一个输入框

1. 输入 @ 唤起 @列表，继续输入，会根据输入查询列表，选择一项会回填到 input 框中，删除到 @ 或者失去焦点或移动，查询列表消失
1. 从 @ 最后删除会删除整项
1. 从 @ 中间删除、添加字符串，会使 @ 变成字符串
1. 允许粘贴、剪切操作
1. 发送数据 `{content: String, atList: [{offset: Number, length: Number}]}`

**思考**

> 有哪些订阅？这将让我们定义哪些是流

1. 输入 @ 后继续输入 -》 唤起列表面板，查询数据
1. 选择某一项 -》 atList 添加成员，input 回填 `@ 项`
1. 从 `@ 项` 最后删除 -》atList 减员，input 删除 `@ 项`
1. 从 `@ 项` 中间，插入、删除文字 -》atList 减员
1. 剪切 -》atList 清空

> 需要组织哪些流？如何组织

## 点赞

**业务场景**

feed 流中，每一项有一个点赞按钮

1. 长按，出现点赞动画，松手发送数据
1. 持续点按某一个点赞按钮可以连赞 发送数据
1. 正常点按 toggle 发送数据

**思考**

> 流是如何进行、互斥的

1. 存在的流 a 点击、长按 b 时效流
1. 失效流依赖点击，点击触发时效流更新
1. 时效流应该是截流的，保存状态，当 id 更新，则为 0

## 大图

**业务场景**

大图预览

1. 图片可能已经是最大了，不需要显示大图按钮
1. 还不能判断图片大小时切换了图片了，保证显示大图按钮是正确的

**思考**

## 爆炸的请求

**业务场景**

1. 好友列表，点击某一个在右边面板显示数据
1. 点击第一个数据还没返回点击了第二个，可是第二个返回很快，第一个还没返回，最后导致右侧面板数据错乱

**思考**
